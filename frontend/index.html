<!DOCTYPE html>
<html lang="pt-br">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Or√°culo de Combate</title>

  <!-- Fonte de estilo fantasia (fallbacks inclusos) -->
  <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=IM+Fell+English:ital,wght@0,400;0,700;1,400&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="style.css" />
</head>

<body>
  <main class="page">
    <article class="grimorio">
      <header class="grimorio-header">
        <div class="title-wrap">
          <h1>Or√°culo de Combate</h1>
          <p class="subtitle"><strong>Preveja a dificuldade do encontro ‚Äî D&D 5e (auxiliar)</strong></p>
        </div>

        <button id="guide-toggle" class="guide-btn" aria-expanded="false">üìñ Guia do Or√°culo</button>
      </header>

      <section id="guide-panel" class="guide-panel hidden" aria-hidden="true">
        <h2>Como usar</h2>
        <p>Preencha os campos com os valores totais ou m√©dios quando solicitado. A clareza dos n√∫meros melhora a previs√£o.</p>

        <h3>Campos principais</h3>
        <ul>
          <li><strong>N√∫mero de Jogadores / Monstros:</strong> quantidade de entidades participantes.</li>
          <li><strong>N√≠vel M√©dio:</strong> n√≠vel m√©dio do grupo (usar m√©dia aritm√©tica dos n√≠veis).</li>
          <li><strong>Total de HP:</strong> soma dos pontos de vida do grupo.</li>
          <li><strong>M√©dia de CA:</strong> m√©dia das classes de armadura do grupo.</li>
          <li><strong>Ataque Total / Dano Total:</strong> soma dos b√¥nus de ataque e soma m√©dia de dano por rodada (por todos os membros).</li>
        </ul>
        <p>Exemplo:</p>
        <ul>
          <li><strong>N√∫mero de Jogadores / Monstros:</strong>5 jogadores / 6 monstros </li>
          <li><strong>N√≠vel M√©dio:</strong> 12 / 12 </li>
          <li><strong>Total de HP:</strong> 520 / 605 </li>
          <li><strong>M√©dia de CA:</strong> 10 / 12 </li>
          <li><strong>Ataque Total / Dano Total:</strong> 55 / 84 | 62 / 90 </li>
          <li><strong>Predi√ß√£o:</strong> M√©dio / 62.05%</li>
        </ul>

        <h3>O que o Or√°culo faz</h3>
        <p>Este preditor combina os par√¢metros do grupo e dos inimigos para estimar uma <em>dificuldade</em> (ex: F√°cil, M√©dio, Dif√≠cil, Mortal) e uma <em>probabilidade aproximada de vit√≥ria</em> dos jogadores. A previs√£o baseia‚Äëse em heur√≠sticas agregadas (HP, dano por rodada e acur√°cia) ‚Äî n√£o substitui o julgamento do mestre.</p>

        <h3>Dicas</h3>
        <ul>
          <li>Use valores m√©dios quando o grupo for heterog√™neo.</li>
          <li>Para encontros equilibrados, busque HP e dano total dos monstros na mesma ordem de magnitude do grupo.</li>
          <li>Se quiser testar varia√ß√µes, duplique o encontro com mais inimigos ou aumente o dano dos monstros para ver o impacto na probabilidade.</li>
        </ul>

        <small class="muted">Nota: este √© um aux√≠lio heur√≠stico ‚Äî decis√µes finais cabem ao Mestre de Jogo.</small>
      </section>

      <form id="combat-form" class="combat-form" autocomplete="off">
        <section class="party-section">
          <h2 class="section-title">Grupo dos Jogadores</h2>

          <label class="field">
            <span><strong>N√∫mero de Jogadores</strong></span>
            <input type="number" id="num_player" min="1" required>
          </label>

          <label class="field">
            <span><strong>N√≠vel M√©dio dos Jogadores</strong></span>
            <input type="number" id="level_players" min="1" required>
          </label>

          <label class="field">
            <span><strong>Total de HP dos Jogadores</strong></span>
            <input type="number" id="total_player_hp" min="1" required>
          </label>

          <label class="field">
            <span><strong>M√©dia de CA dos Jogadores</strong></span>
            <input type="number" id="avg_player_ac" min="0" step="0.1" required>
          </label>

          <label class="field">
            <span><strong>Ataque Total dos Jogadores (B√¥nus somado)</strong></span>
            <input type="number" id="total_player_atk" min="0" required>
          </label>

          <label class="field">
            <span><strong>Dano total por rodada (m√©dia)</strong></span>
            <input type="number" id="total_player_damage" min="0" required>
          </label>
        </section>

        <section class="monster-section">
          <h2 class="section-title">Grupo dos Monstros</h2>

          <label class="field">
            <span><strong>N√∫mero de Monstros</strong></span>
            <input type="number" id="num_enemy" min="0" required>
          </label>

          <label class="field">
            <span><strong>N√≠vel M√©dio dos Monstros</strong></span>
            <input type="number" id="level_enemies" min="0" required>
          </label>

          <label class="field">
            <span><strong>Total de HP dos Monstros</strong></span>
            <input type="number" id="total_enemy_hp" min="0" required>
          </label>

          <label class="field">
            <span><strong>M√©dia de CA dos Monstros</strong></span>
            <input type="number" id="avg_enemy_ac" min="0" step="0.1" required>
          </label>

          <label class="field">
            <span><strong>Ataque Total dos Monstros (B√¥nus somado)</strong></span>
            <input type="number" id="total_enemy_atk" min="0" required>
          </label>

          <label class="field">
            <span><strong>Dano total por rodada (m√©dia)</strong></span>
            <input type="number" id="total_enemy_damage" min="0" required>
          </label>
        </section>

        <div class="actions">
          <button type="submit" class="primary">Analisar Dificuldade</button>
          <button type="button" id="reset-btn" class="ghost">Limpar</button>
        </div>
      </form>

      <section id="result-container" class="result-container hidden" aria-live="polite">
        <div class="result-card">
          <div class="result-left">
            <h3>Resultado da An√°lise</h3>
            <p class="result-row">Dificuldade: <strong id="difficulty-result">‚Äî</strong></p>
            <p class="result-row">Chance de Vit√≥ria (Jogadores): <strong id="probability-result">‚Äî</strong></p>
          </div>

          <div class="result-right">
            <div id="result-badge" class="result-badge">‚Äî</div>
          </div>
        </div>

        <details class="explain">
          <summary>Como essa previs√£o √© estimada</summary>
          <p>O Or√°culo usa Machine Learning para prever a dificuldade do encontro. Ele transforma essas m√©tricas numa escala probabil√≠stica e classifica em categorias de dificuldade. Isso serve como orienta√ß√£o ‚Äî n√£o √© uma simula√ß√£o rodada-a-rodada.</p>
        </details>
      </section>

      <footer class="grimorio-footer">
        <small>Feito para aux√≠lio em mesa ‚Äî mantenha o senso do Mestre.</small>
      </footer>
    </article>
  </main>

  <script src="script.js"></script>
</body>

</html>